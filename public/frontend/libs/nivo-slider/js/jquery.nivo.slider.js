(function(a){var b=function(f,k){var m=a.extend({},a.fn.nivoSlider.defaults,k);var s={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false,controlNavEl:false};var o=a(f);o.data("nivo:vars",s).addClass("nivoSlider");var h=o.children();h.each(function(){var i=a(this);var v="";if(!i.is("img")){if(i.is("a")){i.addClass("nivo-imageLink");v=i}i=i.find("img:first")}var u=(u===0)?i.attr("width"):i.width(),t=(t===0)?i.attr("height"):i.height();if(v!==""){v.css("display","none")}i.css("display","none");s.totalSlides++});if(m.randomStart){m.startSlide=Math.floor(Math.random()*s.totalSlides)}if(m.startSlide>0){if(m.startSlide>=s.totalSlides){m.startSlide=s.totalSlides-1}s.currentSlide=m.startSlide}if(a(h[s.currentSlide]).is("img")){s.currentImage=a(h[s.currentSlide])}else{s.currentImage=a(h[s.currentSlide]).find("img:first")}if(a(h[s.currentSlide]).is("a")){a(h[s.currentSlide]).css("display","block")}var p=a("<img/>").addClass("nivo-main-image");p.attr("src",s.currentImage.attr("src")).show();o.append(p);a(window).resize(function(){o.children("img").width(o.width());p.attr("src",s.currentImage.attr("src"));p.stop().height("auto");a(".nivo-slice").remove();a(".nivo-box").remove()});o.append(a('<div class="nivo-caption"></div>'));var l=function(t){var i=a(".nivo-caption",o);if(s.currentImage.attr("title")!=""&&s.currentImage.attr("title")!=undefined){var u=s.currentImage.attr("title");if(u.substr(0,1)=="#"){u=a(u).html()}if(i.css("display")=="block"){setTimeout(function(){i.html(u)},t.animSpeed)}else{i.html(u);i.stop().fadeIn(t.animSpeed)}}else{i.stop().fadeOut(t.animSpeed)}};l(m);var q=0;if(!m.manualAdvance&&h.length>1){q=setInterval(function(){j(o,h,m,false)},m.pauseTime)}if(m.directionNav){o.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+m.prevText+'</a><a class="nivo-nextNav">'+m.nextText+"</a></div>");a(o).on("click","a.nivo-prevNav",function(){if(s.running){return false}clearInterval(q);q="";s.currentSlide-=2;j(o,h,m,"prev")});a(o).on("click","a.nivo-nextNav",function(){if(s.running){return false}clearInterval(q);q="";j(o,h,m,"next")})}if(m.controlNav){s.controlNavEl=a('<div class="nivo-controlNav"></div>');o.after(s.controlNavEl);for(var g=0;g<h.length;g++){if(m.controlNavThumbs){s.controlNavEl.addClass("nivo-thumbs-enabled");var c=h.eq(g);if(!c.is("img")){c=c.find("img:first")}if(c.attr("data-thumb")){s.controlNavEl.append('<a class="nivo-control" rel="'+g+'"><img src="'+c.attr("data-thumb")+'" alt="" /></a>')}}else{s.controlNavEl.append('<a class="nivo-control" rel="'+g+'">'+(g+1)+"</a>")}}a("a:eq("+s.currentSlide+")",s.controlNavEl).addClass("active");a("a",s.controlNavEl).bind("click",function(){if(s.running){return false}if(a(this).hasClass("active")){return false}clearInterval(q);q="";p.attr("src",s.currentImage.attr("src"));s.currentSlide=a(this).attr("rel")-1;j(o,h,m,"control")})}if(m.pauseOnHover){o.hover(function(){s.paused=true;clearInterval(q);q=""},function(){s.paused=false;if(q===""&&!m.manualAdvance){q=setInterval(function(){j(o,h,m,false)},m.pauseTime)}})}o.bind("nivo:animFinished",function(){p.attr("src",s.currentImage.attr("src"));s.running=false;a(h).each(function(){if(a(this).is("a")){a(this).css("display","none")}});if(a(h[s.currentSlide]).is("a")){a(h[s.currentSlide]).css("display","block")}if(q===""&&!s.paused&&!m.manualAdvance){q=setInterval(function(){j(o,h,m,false)},m.pauseTime)}m.afterChange.call(this)});var e=function(x,u,y){if(a(y.currentImage).parent().is("a")){a(y.currentImage).parent().css("display","block")}a('img[src="'+y.currentImage.attr("src")+'"]',x).not(".nivo-main-image,.nivo-control img").width(x.width()).css("visibility","hidden").show();var v=(a('img[src="'+y.currentImage.attr("src")+'"]',x).not(".nivo-main-image,.nivo-control img").parent().is("a"))?a('img[src="'+y.currentImage.attr("src")+'"]',x).not(".nivo-main-image,.nivo-control img").parent().height():a('img[src="'+y.currentImage.attr("src")+'"]',x).not(".nivo-main-image,.nivo-control img").height();for(var t=0;t<u.slices;t++){var w=Math.round(x.width()/u.slices);if(t===u.slices-1){x.append(a('<div class="nivo-slice" name="'+t+'"><img src="'+y.currentImage.attr("src")+'" style="position:absolute; width:'+x.width()+"px; height:auto; display:block !important; top:0; left:-"+((w+(t*w))-w)+'px;" /></div>').css({left:(w*t)+"px",width:(x.width()-(w*t))+"px",height:v+"px",opacity:"0",overflow:"hidden"}))}else{x.append(a('<div class="nivo-slice" name="'+t+'"><img src="'+y.currentImage.attr("src")+'" style="position:absolute; width:'+x.width()+"px; height:auto; display:block !important; top:0; left:-"+((w+(t*w))-w)+'px;" /></div>').css({left:(w*t)+"px",width:w+"px",height:v+"px",opacity:"0",overflow:"hidden"}))}}a(".nivo-slice",x).height(v);p.stop().animate({height:a(y.currentImage).height()},u.animSpeed)};var d=function(x,w,y){if(a(y.currentImage).parent().is("a")){a(y.currentImage).parent().css("display","block")}a('img[src="'+y.currentImage.attr("src")+'"]',x).not(".nivo-main-image,.nivo-control img").width(x.width()).css("visibility","hidden").show();var t=Math.round(x.width()/w.boxCols),i=Math.round(a('img[src="'+y.currentImage.attr("src")+'"]',x).not(".nivo-main-image,.nivo-control img").height()/w.boxRows);for(var v=0;v<w.boxRows;v++){for(var u=0;u<w.boxCols;u++){if(u===w.boxCols-1){x.append(a('<div class="nivo-box" name="'+u+'" rel="'+v+'"><img src="'+y.currentImage.attr("src")+'" style="position:absolute; width:'+x.width()+"px; height:auto; display:block; top:-"+(i*v)+"px; left:-"+(t*u)+'px;" /></div>').css({opacity:0,left:(t*u)+"px",top:(i*v)+"px",width:(x.width()-(t*u))+"px"}));a('.nivo-box[name="'+u+'"]',x).height(a('.nivo-box[name="'+u+'"] img',x).height()+"px")}else{x.append(a('<div class="nivo-box" name="'+u+'" rel="'+v+'"><img src="'+y.currentImage.attr("src")+'" style="position:absolute; width:'+x.width()+"px; height:auto; display:block; top:-"+(i*v)+"px; left:-"+(t*u)+'px;" /></div>').css({opacity:0,left:(t*u)+"px",top:(i*v)+"px",width:t+"px"}));a('.nivo-box[name="'+u+'"]',x).height(a('.nivo-box[name="'+u+'"] img',x).height()+"px")}}}p.stop().animate({height:a(y.currentImage).height()},w.animSpeed)};var j=function(J,C,H,D){var N=J.data("nivo:vars");if(N&&(N.currentSlide===N.totalSlides-1)){H.lastSlide.call(this)}if((!N||N.stop)&&!D){return false}H.beforeChange.call(this);if(!D){p.attr("src",N.currentImage.attr("src"))}else{if(D==="prev"){p.attr("src",N.currentImage.attr("src"))}if(D==="next"){p.attr("src",N.currentImage.attr("src"))}}N.currentSlide++;if(N.currentSlide===N.totalSlides){N.currentSlide=0;H.slideshowEnd.call(this)}if(N.currentSlide<0){N.currentSlide=(N.totalSlides-1)}if(a(C[N.currentSlide]).is("img")){N.currentImage=a(C[N.currentSlide])}else{N.currentImage=a(C[N.currentSlide]).find("img:first")}if(H.controlNav){a("a",N.controlNavEl).removeClass("active");a("a:eq("+N.currentSlide+")",N.controlNavEl).addClass("active")}l(H);a(".nivo-slice",J).remove();a(".nivo-box",J).remove();var z=H.effect,t="";if(H.effect==="random"){t=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");z=t[Math.floor(Math.random()*(t.length+1))];if(z===undefined){z="fade"}}if(H.effect.indexOf(",")!==-1){t=H.effect.split(",");z=t[Math.floor(Math.random()*(t.length))];if(z===undefined){z="fade"}}if(N.currentImage.attr("data-transition")){z=N.currentImage.attr("data-transition")}N.running=true;var K=0,B=0,I="",A="",L="",w="";if(z==="sliceDown"||z==="sliceDownRight"||z==="sliceDownLeft"){e(J,H,N);K=0;B=0;I=a(".nivo-slice",J);if(z==="sliceDownLeft"){I=a(".nivo-slice",J)._reverse()}I.each(function(){var i=a(this);i.css({top:"0px"});if(B===H.slices-1){setTimeout(function(){i.animate({opacity:"1.0"},H.animSpeed,"",function(){J.trigger("nivo:animFinished")})},(100+K))}else{setTimeout(function(){i.animate({opacity:"1.0"},H.animSpeed)},(100+K))}K+=50;B++})}else{if(z==="sliceUp"||z==="sliceUpRight"||z==="sliceUpLeft"){e(J,H,N);K=0;B=0;I=a(".nivo-slice",J);if(z==="sliceUpLeft"){I=a(".nivo-slice",J)._reverse()}I.each(function(){var i=a(this);i.css({bottom:"0px"});if(B===H.slices-1){setTimeout(function(){i.animate({opacity:"1.0"},H.animSpeed,"",function(){J.trigger("nivo:animFinished")})},(100+K))}else{setTimeout(function(){i.animate({opacity:"1.0"},H.animSpeed)},(100+K))}K+=50;B++})}else{if(z==="sliceUpDown"||z==="sliceUpDownRight"||z==="sliceUpDownLeft"){e(J,H,N);K=0;B=0;var M=0;I=a(".nivo-slice",J);if(z==="sliceUpDownLeft"){I=a(".nivo-slice",J)._reverse()}I.each(function(){var i=a(this);if(B===0){i.css("top","0px");B++}else{i.css("bottom","0px");B=0}if(M===H.slices-1){setTimeout(function(){i.animate({opacity:"1.0"},H.animSpeed,"",function(){J.trigger("nivo:animFinished")})},(100+K))}else{setTimeout(function(){i.animate({opacity:"1.0"},H.animSpeed)},(100+K))}K+=50;M++})}else{if(z==="fold"){e(J,H,N);K=0;B=0;a(".nivo-slice",J).each(function(){var v=a(this);var i=v.width();v.css({top:"0px",width:"0px"});if(B===H.slices-1){setTimeout(function(){v.animate({width:i,opacity:"1.0"},H.animSpeed,"",function(){J.trigger("nivo:animFinished")})},(100+K))}else{setTimeout(function(){v.animate({width:i,opacity:"1.0"},H.animSpeed)},(100+K))}K+=50;B++})}else{if(z==="fade"){e(J,H,N);A=a(".nivo-slice:first",J);A.css({width:J.width()+"px"});A.animate({opacity:"1.0"},(H.animSpeed*2),"",function(){J.trigger("nivo:animFinished")})}else{if(z==="slideInRight"){e(J,H,N);A=a(".nivo-slice:first",J);A.css({width:"0px",opacity:"1"});A.animate({width:J.width()+"px"},(H.animSpeed*2),"",function(){J.trigger("nivo:animFinished")})}else{if(z==="slideInLeft"){e(J,H,N);A=a(".nivo-slice:first",J);A.css({width:"0px",opacity:"1",left:"",right:"0px"});A.animate({width:J.width()+"px"},(H.animSpeed*2),"",function(){A.css({left:"0px",right:""});J.trigger("nivo:animFinished")})}else{if(z==="boxRandom"){d(J,H,N);L=H.boxCols*H.boxRows;B=0;K=0;w=n(a(".nivo-box",J));w.each(function(){var i=a(this);if(B===L-1){setTimeout(function(){i.animate({opacity:"1"},H.animSpeed,"",function(){J.trigger("nivo:animFinished")})},(100+K))}else{setTimeout(function(){i.animate({opacity:"1"},H.animSpeed)},(100+K))}K+=20;B++})}else{if(z==="boxRain"||z==="boxRainReverse"||z==="boxRainGrow"||z==="boxRainGrowReverse"){d(J,H,N);L=H.boxCols*H.boxRows;B=0;K=0;var F=0;var x=0;var u=[];u[F]=[];w=a(".nivo-box",J);if(z==="boxRainReverse"||z==="boxRainGrowReverse"){w=a(".nivo-box",J)._reverse()}w.each(function(){u[F][x]=a(this);x++;if(x===H.boxCols){F++;x=0;u[F]=[]}});for(var y=0;y<(H.boxCols*2);y++){var E=y;for(var G=0;G<H.boxRows;G++){if(E>=0&&E<H.boxCols){(function(R,O,S,Q,T){var v=a(u[R][O]);var U=v.width();var P=v.height();if(z==="boxRainGrow"||z==="boxRainGrowReverse"){v.width(0).height(0)}if(Q===T-1){setTimeout(function(){v.animate({opacity:"1",width:U,height:P},H.animSpeed/1.3,"",function(){J.trigger("nivo:animFinished")})},(100+S))}else{setTimeout(function(){v.animate({opacity:"1",width:U,height:P},H.animSpeed/1.3)},(100+S))}})(G,E,K,B,L);B++}E--}K+=100}}}}}}}}}}};var n=function(t){for(var v,w,u=t.length;u;v=parseInt(Math.random()*u,10),w=t[--u],t[u]=t[v],t[v]=w){}return t};var r=function(i){if(this.console&&typeof console.log!=="undefined"){console.log(i)}};this.stop=function(){if(!a(f).data("nivo:vars").stop){a(f).data("nivo:vars").stop=true;r("Stop Slider")}};this.start=function(){if(a(f).data("nivo:vars").stop){a(f).data("nivo:vars").stop=false;r("Start Slider")}};m.afterLoad.call(this);return this};a.fn.nivoSlider=function(c){return this.each(function(e,g){var d=a(this);if(d.data("nivoslider")){return d.data("nivoslider")}var f=new b(this,c);d.data("nivoslider",f)})};a.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3000,startSlide:0,directionNav:true,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};a.fn._reverse=[].reverse})(jQuery);